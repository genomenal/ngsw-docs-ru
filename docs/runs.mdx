---
sidebar_position: 10
sidebar_label: Запуски
---

# Запуски

Раздел "Запуски" дает возможность загрузить несколько образцов без определения для каждого образца пациента,
к которому он относится. Ещё одним отличием Запуска от [Пациента](/add-patient#patient-page)
является построение общего [SNV Viewer](/runs#run-variant-viewer), который содержит варианты,
обнаруженные во всех образцах Запуска.

Чтобы открыть страницу с запусками, перейдите на страницу "**Запуски**" из одноименного блока страниц
через панель навигации слева:

<p align="center">
<img src={require('/img/runs/run_page.png').default} width="900"/>
</p>

### Создание запуска {#add-run}

Для перехода к форме создания запуска нажмите на <img src={require('/img/runs/add_run.png').default} width="150"/>
на странице "Запуски" или "Образцы". В появившемся окне введите название запуска:

<p align="center">
<img src={require('/img/runs/add_run_modal.png').default} height="350"/>
</p>

и выберите тип образцов запуска (***NORMAL*** - если запуск будет состоять преимущественно из образцов неопухолевой
ткани, или ***TUMOR*** - если из образцов опухолевой ткани):

<p align="center">
<img src={require('/img/runs/sample_type.png').default} height="350"/>
</p>

:::info На заметку
Тип любого образца в запуске можно будет
поменять [на странице загрузки образцов в запуск](/runs/#change-sample-type) или
уже [после старта анализа](/runs/#run-sample).
:::

Для создания запуска нажмите <img src={require('/img/runs/create_btn.png').default} width="130"/>.
Вы окажетесь на странице загрузки образцов в запуск:

<p align="center">
<img src={require('/img/runs/new_run_page.png').default} width="900"/>
</p>

### Настройки анализа {#workflow-settings}

Выберите нужную [настройку анализа](/settings/settings/settings) образцов.
Обратите внимание, что настройка анализа будет применена ко всем образцам запуска и должна соответствовать
выбранному типу образцов запуска (TUMOR или NORMAL).
Например, настройку [Germline variant analysis](/settings/settings/main-presets#germline-variant-analysis) нельзя
использовать, если был выбран тип образцов "TUMOR", поскольку она подходит только для анализа образцов неопухолевой
ткани.

### Тип секвенирования {#sequencing-type}

import SequencingType from '/docs/imported_components/_seq_type.mdx';

<SequencingType set="запуска" />

### Загрузка образцов {#upload-samples}

Загрузите выбранные образцы одним из предложенных ниже способов. Количество образцов в запуске не ограничено.

:::info На заметку
На этом этапе необязательно загружать все нужные образцы.
Дополнительно образцы можно будет добавить в запуск и после старта анализа, как описано [здесь](/runs#upload-more).
:::

import UploadFiles from '/docs/imported_components/_upload_files_from_different_sources.mdx';

<UploadFiles />

#### Распознавание парных файлов {#recognize-pair}

import RecognizePair from '/docs/imported_components/_recognize_pair.mdx';

<RecognizePair />

#### Объединение дорожек секвенирования {#merge-lanes}

- Если ваш образец секвенирования состоит из нескольких файлов в формате FASTQ, которые соответствуют
разным дорожкам на проточной ячейке и которые названы одинаково за исключением
обозначения дорожки секвенирования: `_L[номер дорожки]` (например, "_L01"), то
файлы дорожек будут автоматически объединены в один образец.
При этом для дорожек будет учитываться парность так же, как описано выше, т.е.
парные файлы дорожек будут объединены в парный образец, а непарные - в непарный образец.<br></br>
Пример объединения четырёх парных дорожек в один образец:

<p align="center">
<img src={require('/img/rus/lanes_sample_in_run.png').default} width="450"/>
</p>

Первый файл в карточке объединенного образца - тот, у которого наименьший номер дорожки среди остальных,
а остальные дорожки прибавляются к нему, что символизируется плюсом перед их названиями.
- Если файлы объединились неправильно, то их можно разъединить, нажав
на<br></br>кнопку <img src={require('/img/rus/split_lanes.png').default} width="250"/> внизу страницы,
слева от кнопки "Анализировать образцы".
- Если нужные файлы не объединились в один образец, то можно объединить
все добавленные файлы вручную, нажав на кнопку <img src={require('/img/rus/merge_samples.png').default} width="250"/>
внизу страницы, слева от кнопки "Анализировать образцы".
Обратите внимание, что кнопка будет доступна, только если все добавленные образцы обладают одинаковой
парностью (то есть либо все парные, либо все непарные).

После запуска анализа дорожки объединенного образца поначалу отображаются
как несколько отдельных образцов. Однако после успешного завершения стадий загрузки и идентификации
для всех дорожек они автоматически объединяются в один образец.

#### Смена типа образца {#change-sample-type}

Тип каждого образца указан справа от карточки образца и соответствует типу, который был указан при создании
запуска. Выбранный тип выделен синей рамкой.
При необходимости тип любого образца можно поменять, нажав на нужный тип левой кнопкой мыши:

<p align="center">
<img src={require('/img/runs/change_sample_type.png').default} width="500"/>
</p>

Тип любого образца можно будет поменять и после старта анализа.

### Запуск анализа {#submit}

После добавления всех образцов нажмите <img src={require('/img/runs/analyze_samples_btn.png').default} width="200"/>,
чтобы начать анализ образцов запуска.
Если вы хотите получать оповещения о завершении обработки всех образцов запуска,
включите [соответствующую опцию](/settings/profile#notification) в настройках аккаунта.

### Страница запуска {#run-page}

Сразу после старта анализа вы попадете на страницу запуска:

<p align="center">
<img src={require('/img/runs/beginning.png').default} width="900"/>
</p>

Сверху указаны название запуска и его описание, которые можно поменять, нажав на поле старого значение и
введя новое. Ниже представлена таблица, в которой каждая строка - это образец запуска:

<p align="center">
<img src={require('/img/rus/sample_of_run.png').default} width="900"/>
</p>

### Образец запуска {#run-sample}

В строке образца запуска содержится следующая информация:
1. **Имя образца** - названия файлов образца с расширением и размеры файла образца.
Если файл образца ещё находится в процессе загрузки, то это отразится в информации о размере.
Например, будет написано "18 B из 240 KB". Файл опухолевого образца
обозначен как <img src={require('/img/rus/tumor_success.png').default} width="20"/>,
неопухолевого - <img src={require('/img/rus/normal_success.png').default} width="20"/>. Пара файлов
опухолевого образца: <img src={require('/img/rus/tumor_pair.png').default} height="40"/>, пара файлов
неопухолевого образца: <img src={require('/img/rus/normal_pair.png').default} height="40"/>.
2. **Статус** последней выполненной стадии анализа или стадии, выполняемой в данный
момент: <img src={require('/img/rus/in_process_status.png').default} width="20"/> -
стадия находится в процессе выполнения; <img src={require('/img/rus/success.png').default} width="20"/> - стадия
завершена успешно, <img src={require('/img/rus/problems_status.png').default} width="26"/> -
стадия завершена успешно, однако не все метрики удовлетворяют
критериям, <img src={require('/img/rus/failed_status.png').default} width="25"/> -
стадия завершена с ошибкой.
3. **Стадии** - плитки прогресса анализа образца: каждая плитка - определенная стадия
анализа. Синими плитками <img src={require('/img/rus/blue_in_progress.png').default} width="25"/> обозначены
стадии в процессе выполнения; зелёными <img src={require('/img/rus/green.png').default} width="25"/> - успешно
завершенные стадии; оранжевыми <img src={require('/img/rus/orange.png').default} width="25"/> - успешно завершенные
стадии, у которых не все метрики удовлетворяют критериям;
красными <img src={require('/img/rus/red.png').default} width="25"/> - стадии,
завершенные с ошибками; серыми <img src={require('/img/rus/grey.png').default} width="25"/> - стадии, которые
не были выполнены (либо из-за того, что эти стадии исключены из анализа, либо из-за того, что ещё не завершены
предудыщие шаги анализа, необходимые для выполнения стадии).
Количество плиток может различаться в зависимости от возможного хода анализа:
- Плитки прогресса анализа опухолевого образца в формате FASTQ
или BAM: <img src={require('/img/rus/tumor_analysis.png').default} width="120"/>
- Плитки прогресса анализа неопухолевого образца в формате FASTQ
или BAM: <img src={require('/img/rus/normal_analysis.png').default} width="120"/>
- Плитки прогресса анализа образца в формате VCF, TXT
или TSV: <img src={require('/img/rus/vcf_analysis.png').default} width="50"/>
4. **Интерпретация** - результаты интерпретации образца: информация о количестве выявленных в образце
и [включённых в результаты интерпретации](/results/sample-interpretation#add-to-interpretation-result) мутаций с
определенным классом патогенности.
Может включать информацию о SNVs/Indels, обозначенную "<i>SNV</i>", и информацию о вариациях числа копий,
обозначенную "<i>CNV</i>". Информация представлена в следующем виде:
- значки патогенности с указанием количества мутаций с этой патогенностью:
   - патогенные мутации: <img src={require('/img/results/pathogenic.png').default} width="48"/>;
   - вероятно патогенные мутации: <img src={require('/img/results/likely_pathogenic.png').default} width="48"/>;
   - мутации неопределенной значимости: <img src={require('/img/results/uncertain.png').default} width="48"/>;
   - вероятно доброкачественные мутации: <img src={require('/img/results/likely_benign.png').default} width="48"/>;
   - доброкачественные мутации: <img src={require('/img/results/benign.png').default} width="48"/>.
- сообщение "*Интерпретация не завершена*" - если мутации с определённым классом патогенности
были [включены](/results/sample-interpretation#add-to-interpretation-result) в
результаты интерпретации, но интерпретация образца не была [завершена](/results/sample-interpretation#complete).
- сообщение "*Патогенных вариантов не обнаружено*" - если интерпретация образца
была [завершена](/results/sample-interpretation#complete), но ни одна мутация с
определённым классом патогенности не была [включена](/results/sample-interpretation#add-to-interpretation-result) в
результаты интерпретации.
- пустое значение, если интерпретация образца не была [завершена](/results/sample-interpretation#complete)
и ни одна мутация с
определённым классом патогенности не была [включена](/results/sample-interpretation#add-to-interpretation-result) в
результаты интерпретации.
5. **Тип образца** - тип, который был выбран на этапе создания запуска или загрузки образцов (TUMOR - опухолевый
или NORMAL - неопухолевый). Тип можно поменять, нажав на текущее значение в строке образца и поменяв его на нужное:

<p align="center">
<img src={require('/img/runs/change_type.png').default} width="900"/>
</p>

6. **Пациент** - пациент, у которого был взят образец секвенирования. Чтобы определить пациента для образца,
нажмите на текущее значение ("-") в строке образца и в появившемся списке выберите нужного пациента или
добавьте нового:

<p align="center">
<img src={require('/img/runs/patient_options.png').default} width="900"/>
</p>

После этого данные об образце будут представлены не только ***на странице запуска***:

<p align="center">
<img src={require('/img/runs/patient_1.png').default} width="900"/>
</p>

но и ***на странице этого пациента***:

<p align="center">
<img src={require('/img/runs/patient_sample.png').default} width="900"/>
</p>

При этом страница образца одна и та же - независимо от того, зашли вы на неё со страницы Запуска или со страницы
Пациента. Любые изменения, включая удаление образца, отобразятся на обеих страницах.

#### Результаты анализа образца {#sample-analysis-results}

Результаты для каждого отдельного образца запуска находятся на странице образца. Страница образца запуска не отличается
от страницы образца пациента. Описание результатов можно посмотреть [здесь](/results/results).

#### Изменение хода анализа образца {#tweak-sample-workflow}

Можно менять настройки анализа ([вкладка "Параметры" образца](/results/parameters)) и
[перезапускать процессинг](/results/main/main#workflow) образцов. В данном случае изменения в
настройках влияют на ход анализа только конкретного образца, для которого они вносятся.

#### Удаление образца {#delete-sample}

Для удаления образца наведите курсор мыши на его строку и
нажмите на появившуюся корзину <img src={require('/img/rus/delete_btn.png').default} width="20"/> - вам
откроется окно подтверждения удаления образца:

<p align="center">
<img src={require('/img/rus/approve_delete_window.png').default} width="350"/>
</p>

Чтобы окончательно удалить образец из системы, просто
нажмите <img src={require('/img/rus/delete_green_btn.png').default} width="135"/>, а чтобы
удалить образец из запуска, но оставить его в разделе "Образцы без категорий" (так что его можно будет
переиспользовать при создании набора образцов пациента без необходимости повторного проведения стадий загрузки,
идентификации и проверки), снимите флажок, нажав на <img src={require('/img/rus/check.png').default} width="25"/>,
и уже затем нажмите <img src={require('/img/rus/delete_green_btn.png').default} width="135"/>.
Для отмены удаления образца нажмите <img src={require('/img/report_templates/cancel.png').default} width="150"/>
или вне окна подтверждения.

### SNV Viewer запуска {#run-variant-viewer}

SNV Viewer запуска - это встроенный модуль для просмотра и анализа вариантов, выявленных во всех образцах
запуска, для которых проводилась и успешно завершилась стадия аннотации герминальных или соматических SNVs/Indels.
SNV Viewer запуска мало чем отличается от SNV Viewer образца, подробное описание которого можно
найти [здесь](/results/main/snvs-indels/variant-viewer).
SNV Viewer запуска и образцов запуска связаны между собой: если вы закрепите или проинтерпретируете вариант или
определите его патогенность и т.п. в SNV Viewer образца запуска, результат тут же появится в SNV
Viewer запуска, и наоборот.
Для открытия SNV Viewer запуска нажмите
на <img src={require('/img/runs/vv_btn.png').default} width="120"/> на странице запуска.

**Особенности SNV Viewer запуска (в отличие от SNV Viewer образца):**

#### 1. Колонка "Образец" {#sample-column}

В SNV Viewer запуска есть дополнительная колонка "**Образец**", которая содержит название образца запуска,
в котором был найден вариант. По значениям колонки можно отсортировать таблицу по возрастанию или убыванию
(для этого нужно нажать на название колонки один раз, чтобы отсортировать по возрастанию, и два раза - по убыванию).
Вы можете открыть страницу SNV Viewer конкретного образца, нажав на его название и выбрав соответствующую опцию:

<p align="center">
<img src={require('/img/runs/open_vv.png').default} width="300"/>
</p>

:::info На заметку
Варианты SNV Viewer запуска - результат объединения вариантов, полученных
для всех образцов запуска, а не их пересечения. Одинаковые по всем параметрам варианты из разных образцов
всегда будут отличаться по значению колонки "Образец".
:::

#### 2. Базовый параметр фильтрации "Образцы" {#samples-filter}

Для фильтрации по значениям колонки "Образец" в SNV Viewer запуска есть
базовый параметр фильтрации "**Образцы**"
(доступен [по умолчанию](/settings/profile#basic-mode-filters)).
Для того чтобы отфильтровать варианты по образцам запуска, в которых они были выявлены, нажмите
на окно фильтрации <img src={require('/img/runs/sample_filtering.png').default} width="150"/> и
в появившемся списке отметьте галочками нужные
образцы (или нажмите <img src={require('/img/runs/choose_all.png').default} width="120"/>):

<p align="center">
<img src={require('/img/runs/sample_choice.png').default} width="300"/>
</p>

Готово! Фильтр применен. Образцы, которые были выбраны для фильтрации, можно увидеть в том же окошке:

<p align="center">
<img src={require('/img/runs/sample_name.png').default} width="160"/>
</p>

Чтобы увидеть все полные названия образцов, наведите курсор мыши на это окошко.

Для сброса фильтра по образцам нажмите на окно фильтрации, а
затем на <img src={require('/img/vv/clear_option.png').default} width="100"/>.

:::info На заметку
Базовый параметр фильтрации "Образцы" доступен в SNV Viewer и после перехода
в [режим расширенного поиска вариантов](/results/main/snvs-indels/advanced-filtering):

<p align="center">
<img src={require('/img/runs/in_advanced_search.png').default} width="900"/>
</p>

:::

#### 3. Интерпретация образца {#sample-interpretation}

В SNV Viewer запуска есть дополнительный способ завершения и возобновления
интерпретации для образцов запуска. Другие способы описаны [здесь](/results/sample-interpretation#complete).
Чтобы ***завершить интерпретацию образца запуска***, нажмите на название этого образца в строке варианта
и выберите соответствующую опцию:

<p align="center">
<img src={require('/img/runs/finish_interpretation.png').default} width="300"/>
</p>

Вы увидите окно подтверждения. Для неопухолевых образцов оно выглядит так:

<p align="center">
<img src={require('/img/vv/interpretation_window_normal.png').default} width="400"/>
</p>

А для опухолевых образцов также включает поля об онкологическом заболевании:

<p align="center">
<img src={require('/img/vv/interpretation_window.png').default} width="400"/>
</p>

В поле "*Результаты интерпретации*" приведена информация о количестве
обнаруженных в образце и включённых в результаты интерпретации мутаций с определенным классом патогенности.
Поле может включать информацию о SNVs/Indels, обозначенную "*SNV*", и информацию о вариациях числа копий,
обозначенную "*CNV*". Информация представлена в виде значков патогенности с указанием количества мутаций с
этой патогенностью:
- патогенные мутации: <img src={require('/img/results/pathogenic.png').default} width="48"/>;
- вероятно патогенные мутации: <img src={require('/img/results/likely_pathogenic.png').default} width="48"/>;
- мутации неопределенной значимости: <img src={require('/img/results/uncertain.png').default} width="48"/>;
- вероятно доброкачественные мутации: <img src={require('/img/results/likely_benign.png').default} width="48"/>;
- доброкачественные мутации: <img src={require('/img/results/benign.png').default} width="48"/>.

Если никакие мутации с определённым классом патогенности не были включены в результаты интерпретации,
то значением поля будет "*Патогенных вариантов не обнаружено*".

Для опухолевых образцов в окне подтверждения можно указать онкологическое заболевание, его стадию и уточнение стадии,
которые были определены
у пациента на момент взятия материала образца секвенирования, а также линию терапии, используемую для лечения
заболевания пациента на момент взятия материала образца секвенирования.

Для подтверждения завершения интерпретации
нажмите на <img src={require('/img/custom-annot/ok_btn.png').default} width="130"/>.

Образцы запуска с завершённой интерпретацией
обозначены иконкой <img src={require('/img/runs/done.png').default} width="25"/>:

<p align="center">
<img src={require('/img/runs/done_sample.png').default} height="110"/>
</p>

Чтобы ***возобновить интерпретацию образца запуска***, нажмите на название этого образца в строке варианта
и выберите соответствующую опцию:

<p align="center">
<img src={require('/img/runs/restore_interpretation.png').default} width="300"/>
</p>

#### 4. Базовый параметр фильтрации "Статус образца" {#sample-interpretation-status-filter}

Для фильтрации по статусу интерпретации образцов (завершена или не завершена) в SNV Viewer
запуска есть базовый параметр фильтрации "**Статус образца**". Параметр
не доступен по умолчанию; его можно добавить
на [странице "Настройки пользователя"](/settings/profile#basic-mode-filters)
(параметр "Статус интерпретации образца").
Для того чтобы отфильтровать варианты по статусу интерпретации образцов запуска, в которых они были выявлены,
нажмите на окно фильтрации <img src={require('/img/runs/sample_status.png').default} width="150"/> и
в появившемся списке выберите нужный статус:

<p align="center">
<img src={require('/img/runs/interpretation_options.png').default} width="330"/>
</p>

Для сброса фильтра нажмите на окно фильтрации, а
затем на <img src={require('/img/vv/clear_option.png').default} width="100"/>.

Фильтровать по статусу интерпретации образца можно и
в [режиме расширенного поиска вариантов](/results/main/snvs-indels/advanced-filtering),
воспользовавшись [фильтром "Sample Status"](/results/main/snvs-indels/advanced-filtering#single-value-filters).
Для этого дополнительный фильтр "Статус образца" добавлять в настройках необязательно.

#### 5. Встречаемость в запуске {#occurrence-in-run}

На [вкладке "Common" панели детальной информации о варианте](/results/main/snvs-indels/snv-details-panel#common-tab)
в SNV Viewer запуска и в SNV Viewer образцов запуска
находится информация о количестве образцов запуска, в которых встречается вариант.
Например, в следующем случае вариант был выявлен в двух из трёх образцов запуска:

<p align="center">
<img src={require('/img/runs/occurrence.png').default} width="450"/>
</p>

По встречаемости в запуске варианты можно отфильтровать,
воспользовавшись фильтром ["Occurrence in Run"](/results/main/snvs-indels/advanced-filtering#common)
в [режиме расширенного поиска вариантов](/results/main/snvs-indels/advanced-filtering).

### Загрузка дополнительных образцов {#upload-more}

Чтобы добавить в запуск образцы вдобавок к образцам, загруженным ранее,
нажмите на<br></br>кнопку <img src={require('/img/runs/upload_samples.png').default} width="160"/> на странице запуска.
Над уже загруженными образцами появится форма загрузки новых образцов:

<p align="center">
<img src={require('/img/runs/upload_page.png').default} width="1000"/>
</p>

Загрузите образцы, как описано [выше](/runs#upload-samples), и
нажмите на <img src={require('/img/runs/analyze_samples_btn.png').default} width="200"/>.

Пока новые образцы будут обрабатываться, SNV Viewer запуска будет недоступен.

### Архивация, восстановление и удаление запуска {#delete-run}

Для ***архивации запуска*** и его образцов наведите курсор на строку запуска на странице "Запуски" и
нажмите на появившийся активный элемент <img src={require('/img/rus/delete_btn.png').default} width="18"/>.
Запуск будет перемещен на страницу "**Архив**" из блока страниц "Запуски". Перейдя на эту страницу, вы можете:

1. ***Восстановить*** данные запуска, наведя курсор на строку запуска и нажав на появившийся активный
элемент <img src={require('/img/rus/restore_btn.png').default} width="22"/>.
Тогда запуск будет перемещен обратно на страницу "Запуски".

2. ***Удалить запуск*** и его образцы, наведя курсор на строку запуска и нажав на появившийся активный
элемент <img src={require('/img/rus/delete_btn.png').default} width="18"/>.
Вы увидите окно подтверждения удаления запуска:

<p align="center">
<img src={require('/img/runs/confirmation_run.png').default} width="380"/>
</p>

Для подтверждения удаления запуска нажмите <img src={require('/img/runs/confirm.png').default} width="150"/>.
Для отмены удаления запуска нажмите <img src={require('/img/report_templates/cancel.png').default} width="150"/>
или вне окна подтверждения.

Кроме того, вы можете удалить все архивированные запуски,
нажав на <img src={require('/img/runs/clear_archive_btn.png').default} width="170"/>.
